{"version":3,"sources":["jquery.anim-fx.js"],"names":["$","fn","animFx","timeout","promises","map","index","element","$element","hasClass","addClass","Promise","resolve","undefined","setTimeout","event","on","off","get","extend","__promise__","all"],"mappings":";;AAAC,WAAUA,CAAV,EAAa;AACZ;;AAEAA,EAAAA,CAAC,CAACC,EAAF,CAAKC,MAAL,GAAc,UAAUC,OAAV,EAAmB;AAC/B;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAMC,QAAQ,GAAG,KAAKC,GAAL,CAAS,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAC5C,UAAMC,QAAQ,GAAGR,CAAC,CAACO,OAAD,CAAlB;;AAEA,UAAI,CAACC,QAAQ,CAACC,QAAT,CAAkB,QAAlB,CAAL,EAAkC;AAChCD,QAAAA,QAAQ,CAACE,QAAT,CAAkB,QAAlB;AACD;;AAED,aAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,YAAIT,OAAO,KAAKU,SAAhB,EAA2B;AACzBC,UAAAA,UAAU,CAAC;AAAA,mBAAMF,OAAO,CAACJ,QAAQ,CAAC,CAAD,CAAT,CAAb;AAAA,WAAD,EAA6BL,OAA7B,CAAV;AACD,SAFD,MAEO;AACL,cAAMY,KAAK,GAAG,kEAAd;AACAP,UAAAA,QAAQ,CAACQ,EAAT,CAAYD,KAAZ,EAAmB;AAAA,mBAAMH,OAAO,CAACJ,QAAQ,CAACS,GAAT,CAAaF,KAAb,EAAoB,CAApB,CAAD,CAAb;AAAA,WAAnB;AACD;AACF,OAPM,CAAP;AAQD,KAfgB,EAedG,GAfc,EAAjB;AAiBA,WAAOlB,CAAC,CAACmB,MAAF,CAAS,IAAT,EAAe;AACpBC,MAAAA,WAAW,EAAET,OAAO,CAACU,GAAR,CAAYjB,QAAZ;AADO,KAAf,CAAP;AAGD,GAtCD,CAHY,CA2CZ;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAED,CAtEA,EAsECJ,CAtED,CAAD","file":"jquery.anim-fx.js","sourcesContent":["(function ($) {\n  'use strict';\n\n  $.fn.animFx = function (timeout) {\r\n    // Для одиночного элемента\r\n\r\n    // if (!this.hasClass('active')) {\r\n    //   this.addClass('active');\r\n    // }\r\n\r\n    // return $.extend(this, {\r\n    //   __promise__: new Promise(resolve => {\r\n    //     if (timeout !== undefined) {\r\n    //       setTimeout(() => resolve(this[0]), timeout);\r\n    //     } else {\r\n    //       const event = 'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd';\r\n    //       this.on(event, () => resolve(this.off(event)[0]));\r\n    //     }\r\n    //   }),\r\n    // });\r\n\r\n    const promises = this.map((index, element) => {\r\n      const $element = $(element);\r\n\r\n      if (!$element.hasClass('active')) {\r\n        $element.addClass('active');\r\n      }\r\n\r\n      return new Promise(resolve => {\r\n        if (timeout !== undefined) {\r\n          setTimeout(() => resolve($element[0]), timeout);\r\n        } else {\r\n          const event = 'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd';\r\n          $element.on(event, () => resolve($element.off(event)[0]));\r\n        }\r\n      });\r\n    }).get();\r\n\r\n    return $.extend(this, { \r\n      __promise__: Promise.all(promises),\r\n    });\r\n  };\r\n\r\n  // $.fn.animFx = function (options) {\r\n  //   const type = $.type(options);\r\n\r\n  //   return this.each((index, element) => {\r\n  //     const $element = $(element);\r\n\r\n  //     if ($element.hasClass('active')) {\r\n  //       return;\r\n  //     }\r\n\r\n  //     if (type == 'function') {\r\n  //       const event = 'transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd';\r\n  //       $element.on(event, () => {\r\n  //         $element.off(event);\r\n  //         options.call($element[0]);\r\n  //       });\r\n  //     } else if (type == 'object') {\r\n  //       setTimeout(\r\n  //         () => options.complete && options.complete.call($element[0]), \r\n  //         options.timeout\r\n  //       );\r\n  //     }\r\n\r\n  //     $element.addClass('active');\r\n  //   });\r\n  // };\n\n}($));\n"]}